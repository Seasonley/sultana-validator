/*sultana-validator v0.1.0
A library for validating as same as validator.py
MIT License Copyright (c) 2018 seasonley
https://github.com/Seasonley/sultana-validator*/
!function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){"use strict";function a(){var t=babelHelpers.taggedTemplateLiteral(["must","be between "," and "," elements in length"]);return a=function(){return t},t}function s(){var t=babelHelpers.taggedTemplateLiteral(["must be at least "," elements in length"]);return s=function(){return t},t}function o(){var t=babelHelpers.taggedTemplateLiteral(["must be at most "," elements in length"]);return o=function(){return t},t}function u(s){for(var t=arguments.length,e=new Array(1<t?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[r.length-1]||{},a=[s[0]];return e.forEach(function(t,n){var e=Number.isInteger(t)?r[t]:i[t];a.push(e,s[n+1])}),a.join("")}}function c(){this.errMsg="failed validation",this.notMsg="failed validation"}function y(t,n){return t in n}function l(t,n,e,r){var i=!0,a=!1,s=void 0;try{for(var o,u=t[e][Symbol.iterator]();!(i=(o=u.next()).done);i=!0){var c=o.value;if(e in n){if("[object Object]"===Object.prototype.toString.call(c)){var l=M(c,n[e]),f=babelHelpers.slicedToArray(l,2),h=f[0],g=f[1];h||r[e].push(g);continue}if(c!==y)if(c instanceof Function&&"isIf"in c.prototype){var m=c(n[e],n),b=babelHelpers.slicedToArray(m,2),v=b[0],p=b[1];v&&0<Object.keys(p[1]).length&&r[e].push(p[1])}else d(c,n,e,r)}}}catch(t){a=!0,s=t}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}}function d(n,t,e,r){var i,a;try{i=n(t[e])}catch(t){i=[!1,n.errMsg]}if(i instanceof Array){var s,o=i;if((a=babelHelpers.slicedToArray(o,2)[1])&&a instanceof Array)(s=r[e]).push.apply(s,babelHelpers.toConsumableArray(a));else a&&r[e].push(a)}else i||r[e].push(this.errMsg)}function M(t,n){var e={};for(var r in t){if(e[r]=[],t[r]instanceof Array){if(t[r].includes(y)&&!y(r,n)){e[r]=["must be present"];continue}l(t,n,r,e)}else{var i=t[r];i===y?y(r,n)||(e[r]=["must be present"]):d(i,n,r,e)}0===e[r].length&&delete e[r]}return[0===Object.keys(e).length,e]}module.exports={Validator:c,In:function(n){return function(t){return c.call(this),this.errMsg="must be one of ".concat(JSON.stringify(n)),this.notMsg="must not be one of ".concat(JSON.stringify(n)),n.includes(t)}},Not:function(n){return function(t){return c.call(this),!n(t)}},Range:function(n,e){var r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return function(t){return c.call(this),this.errMsg="must fall between ".concat(n," and ").concat(e),this.notMsg="must not fall between ".concat(n," and ").concat(e),!0===r?n<=t&&t<=e:n<t&&t<e}},GreaterThan:function(n){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return function(t){return c.call(this),this.errMsg="must be greater than ".concat(n),this.notMsg="must not be greater than ".concat(n),!0===e?n<=t:n<t}},LessThan:function(n){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return function(t){return c.call(this),this.errMsg="must be less than ".concat(n),this.notMsg="must not be less than ".concat(n),!0===e?t<=n:t<n}},Equals:function(n){var t=JSON.stringify(n);return this.errMsg="must be equal to ".concat(t),this.notMsg="must not be equal to ".concat(t),function(t){return t===n}},Blank:function(t){return c.call(this),this.errMsg="must be an empty string",this.notMsg="must not be an empty string",!t},Truthy:function(t){return c.call(this),this.errMsg="must be True-equivalent value",this.notMsg="must be False-equivalent value",!!t},Required:y,InstanceOf:function(n){return function(t){return c.call(this),this.errMsg="must be an instance of ".concat(n.name," or its subclasses"),this.notMsg="must not be an instance of ".concat(n.name," or its subclasses"),t instanceof n}},SubclassOf:function(n){return function(t){return c.call(this),this.errMsg="must be a subclass of ".concat(n.name),this.notMsg="must not be a subclass of ".concat(n.name),t.prototype instanceof n}},Then:function(n){return function(t){return M(n,t)}},If:function(i,a){function t(t,n){var e=!1,r=function(){};return c.call(this),i(t)&&(e=!0,r=a(n)),[e,r]}return t.prototype.isIf=!0,t},Length:function(n){var e,r,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,t={maximum:u(o(),0),minimum:u(s(),0),range:u(a(),0,1,2)};if(!n&&!i)throw new Error("Length must have a non-zero minimum or maximum parameter.");if(n<0||i<0)throw new Error("Length cannot have negative parameters.");return n&&i?(e=t.range(" ",n,i),r=t.range(" not ",n,i)):n?(e=t.minimum(n),r=t.maximum(n-1)):i&&(e=t.maximum(i),r=t.minimum(i+1)),function(t){return c.call(this),this.errMsg=e,this.notMsg=r,i?n<=t.length<=i:n<=t.length}},Contains:function(n){return function(t){return c.call(this),this.errMsg="must contain ".concat(n),this.notMsg="must not contain ".concat(n),t instanceof Array||"string"==typeof t?t.includes(n):n in t}},Each:function(h){return function(t){var e,n,r=this,i=[];if(h instanceof Array)t.forEach(function(n){h.forEach(function(t){(e=t(n))||i.push("all values ".concat(r.errMsg))})});else if("[object Object]"===Object.prototype.toString.call(h))for(var a=Object.entries(t),s=0;s<a.length;s++){var o=babelHelpers.slicedToArray(a[s],2),u=o[0],c=o[1],l=M(h,c),f=babelHelpers.slicedToArray(l,2);e=f[0],n=f[1],e||(i[u]=n)}return[0===i.length,i]}},validate:M,Pattern:function(n){return function(t){return this.errMsg="must match regex ".concat(n.toString()),this.notMsg="must not match regex ".concat(n.toString()),n.test(t)}}}});