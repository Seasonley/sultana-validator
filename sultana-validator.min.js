/*sultana-validator v0.1.2
A library for validating as same as validator.py
MIT License Copyright (c) 2018 seasonley
https://github.com/Seasonley/sultana-validator*/
!function(n){"function"==typeof define&&define.amd?define(n):n()}(function(){"use strict";function o(){var n=babelHelpers.taggedTemplateLiteral(["must","be between "," and "," elements in length"]);return o=function(){return n},n}function u(){var n=babelHelpers.taggedTemplateLiteral(["must be at least "," elements in length"]);return u=function(){return n},n}function i(){var n=babelHelpers.taggedTemplateLiteral(["must be at most "," elements in length"]);return i=function(){return n},n}function c(u){for(var n=arguments.length,e=new Array(1<n?n-1:0),t=1;t<n;t++)e[t-1]=arguments[t];return function(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];var a=r[r.length-1]||{},o=[u[0]];return e.forEach(function(n,t){var e=Number.isInteger(n)?r[n]:a[n];o.push(e,u[t+1])}),o.join("")}}var m="failed validation";function s(){}function y(n,t){return n in t}function l(n,t,e,r){var a=!0,o=!1,u=void 0;try{for(var i,c=n[e][Symbol.iterator]();!(a=(i=c.next()).done);a=!0){var s=i.value;if(e in t){if("[object Object]"===Object.prototype.toString.call(s)){var l=A(s,t[e]),f=babelHelpers.slicedToArray(l,2),m=f[0],h=f[1];m||r[e].push(h);continue}if(s!==y)if(s instanceof Function&&"isIf"in s.prototype){var b=s(t[e],t),g=babelHelpers.slicedToArray(b,2),v=g[0],p=g[1];v&&0<Object.keys(p[1]).length&&r[e].push(p[1])}else d(s,t,e,r)}}}catch(n){o=!0,u=n}finally{try{a||null==c.return||c.return()}finally{if(o)throw u}}}function d(n,t,e,r){var a,o;try{a=n(t[e])}catch(n){a=[!1,m]}if(a instanceof Array){var u,i=a;if((o=babelHelpers.slicedToArray(i,2)[1])&&o instanceof Array)(u=r[e]).push.apply(u,babelHelpers.toConsumableArray(o));else o&&r[e].push(o)}else a||r[e].push(m)}function A(n,t){var e={};for(var r in n){if(e[r]=[],n[r]instanceof Array){if(n[r].includes(y)&&!y(r,t)){e[r]=["must be present"];continue}l(n,t,r,e)}else{var a=n[r];a===y?y(r,t)||(e[r]=["must be present"]):d(a,t,r,e)}0===e[r].length&&delete e[r]}return function(n,t){return[n,t]}(0===Object.keys(e).length,e)}module.exports={Validator:s,In:function(t){return function(n){return s.call(this),m="must be one of ".concat(JSON.stringify(t)),"must not be one of ".concat(JSON.stringify(t)),t.includes(n)}},Not:function(t){return function(n){return s.call(this),!t(n)}},Range:function(t,e){var r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return function(n){return s.call(this),m="must fall between ".concat(t," and ").concat(e),"must not fall between ".concat(t," and ").concat(e),!0===r?t<=n&&n<=e:t<n&&n<e}},GreaterThan:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return function(n){return s.call(this),m="must be greater than ".concat(t),"must not be greater than ".concat(t),!0===e?t<=n:t<n}},LessThan:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return function(n){return s.call(this),m="must be less than ".concat(t),"must not be less than ".concat(t),!0===e?n<=t:n<t}},Equals:function(t){var n=JSON.stringify(t);return m="must be equal to ".concat(n),"must not be equal to ".concat(n),function(n){return n===t}},Blank:function(n){return s.call(this),m="must be an empty string","must not be an empty string",!n},Truthy:function(n){return s.call(this),m="must be True-equivalent value","must be False-equivalent value",!!n},Required:y,InstanceOf:function(t){return function(n){return s.call(this),m="must be an instance of ".concat(t.name," or its subclasses"),"must not be an instance of ".concat(t.name," or its subclasses"),n instanceof t}},SubclassOf:function(t){return function(n){return s.call(this),m="must be a subclass of ".concat(t.name),"must not be a subclass of ".concat(t.name),n.prototype instanceof t}},Then:function(t){return function(n){return A(t,n)}},If:function(a,o){function n(n,t){var e=!1,r=function(){};return s.call(this),a(n)&&(e=!0,r=o(t)),[e,r]}return n.prototype.isIf=!0,n},Length:function(t){var e,r,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n={maximum:c(i(),0),minimum:c(u(),0),range:c(o(),0,1,2)};if(!t&&!a)throw new Error("Length must have a non-zero minimum or maximum parameter.");if(t<0||a<0)throw new Error("Length cannot have negative parameters.");return t&&a?(e=n.range(" ",t,a),r=n.range(" not ",t,a)):t?(e=n.minimum(t),r=n.maximum(t-1)):a&&(e=n.maximum(a),r=n.minimum(a+1)),function(n){return s.call(this),m=e,r,a?t<=n.length<=a:t<=n.length}},Contains:function(t){return function(n){return s.call(this),m="must contain ".concat(t),"must not contain ".concat(t),n instanceof Array||"string"==typeof n?n.includes(t):t in n}},Each:function(f){return function(n){var e,t,r=[];if(f instanceof Array)n.forEach(function(t){f.forEach(function(n){(e=n(t))||r.push("all values ".concat(m))})});else if("[object Object]"===Object.prototype.toString.call(f))for(var a=0,o=Object.entries(n);a<o.length;a++){var u=babelHelpers.slicedToArray(o[a],2),i=u[0],c=u[1],s=A(f,c),l=babelHelpers.slicedToArray(s,2);e=l[0],t=l[1],e||(r[i]=t)}return[0===r.length,r]}},validate:A,Pattern:function(t){return function(n){return m="must match regex ".concat(t.toString()),"must not match regex ".concat(t.toString()),t.test(n)}}}});