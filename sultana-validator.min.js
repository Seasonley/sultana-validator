/*sultana-validator v0.0.3
A library for validating as same as validator.py
MIT License Copyright (c) 2018 seasonley
https://github.com/Seasonley/validator.js*/
!function(n){"function"==typeof define&&define.amd?define(n):n()}(function(){"use strict";function i(){var n=babelHelpers.taggedTemplateLiteral(["must","be between "," and "," elements in length"]);return i=function(){return n},n}function o(){var n=babelHelpers.taggedTemplateLiteral(["must be at least "," elements in length"]);return o=function(){return n},n}function u(){var n=babelHelpers.taggedTemplateLiteral(["must be at most "," elements in length"]);return u=function(){return n},n}function c(o){for(var n=arguments.length,e=new Array(1<n?n-1:0),t=1;t<n;t++)e[t-1]=arguments[t];return function(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];var a=r[r.length-1]||{},i=[o[0]];return e.forEach(function(n,t){var e=Number.isInteger(n)?r[n]:a[n];i.push(e,o[t+1])}),i.join("")}}var m="",s="";function l(){s=m="failed validation"}function g(n,t){return n in t}function f(n,t,e,r){var a=!0,i=!1,o=void 0;try{for(var u,c=n[e][Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var s=u.value;if(e in t){if(s instanceof Array){var l=d(s,t[e]),f=babelHelpers.slicedToArray(l,2)[1];f&&r[e].append(f);continue}if(s!==g)if("isIf"in s.prototype){var m=s(t[e],t),h=babelHelpers.slicedToArray(m,2),b=h[0],v=h[1];b&&0<Object.keys(v[1]).length&&r[e].push(v[1])}else p(s,t,e,r)}}}catch(n){i=!0,o=n}finally{try{a||null==c.return||c.return()}finally{if(i)throw o}}}function p(n,t,e,r){var a,i;try{a=n(t[e])}catch(n){a=[!1,m]}if(a instanceof Array){var o,u=a;if((i=babelHelpers.slicedToArray(u,2)[1])&&i instanceof Array)(o=r[e]).push.apply(o,babelHelpers.toConsumableArray(i));else i&&r[e].push(i)}else a||r[e].push(m||"failed validation")}function d(n,t){var e={};for(var r in n){if(e[r]=[],n[r]instanceof Array){if(n[r].includes(g)&&!g(r,t)){e[r]=["must be present"];continue}f(n,t,r,e)}else{var a=n[r];a===g?g(r,t)||(e[r]=["must be present"]):p(a,t,r,e)}0===e[r].length&&delete e[r]}return[0===Object.keys(e).length,e]}module.exports={Validator:l,In:function(t){return function(n){return l.call(this),m="must be one of ".concat(JSON.stringify(t)),s="must not be one of ".concat(JSON.stringify(t)),t.includes(n)}},Not:function(t){return function(n){return l.call(this),m=m||"failed validation",s=s||"failed validation",!t(n)}},Range:function(t,e){var r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return function(n){return l.call(this),m="must fall between ".concat(t," and ").concat(e),s="must not fall between ".concat(t," and ").concat(e),!0===r?t<=n&&n<=e:t<n&&n<e}},GreaterThan:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return function(n){return l.call(this),m="must be greater than ".concat(t),s="must not be greater than ".concat(t),!0===e?t<=n:t<n}},LessThan:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return function(n){return l.call(this),m="must be less than ".concat(t),s="must not be less than ".concat(t),!0===e?n<=t:n<t}},Equals:function(t){var n=JSON.stringify(t);return m="must be equal to ".concat(n),s="must not be equal to ".concat(n),function(n){return n===t}},Blank:function(n){return l.call(this),m="must be an empty string",s="must not be an empty string",""===n},Truthy:function(n){return l.call(this),m="must be True-equivalent value",s="must be False-equivalent value",!!n},Required:g,InstanceOf:function(t){return function(n){return l.call(this),m="must be an instance of ".concat(t.name," or its subclasses"),s="must not be an instance of ".concat(t.name," or its subclasses"),n instanceof t}},SubclassOf:function(t){return function(n){return l.call(this),m="must be a subclass of ".concat(t.name),s="must not be a subclass of ".concat(t.name),n.prototype instanceof t}},Then:function(t){return function(n){return d(t,n)}},If:function(a,i){function n(n,t){var e=!1,r=function(){};return l.call(this),a(n)&&(e=!0,r=i(t)),[e,r]}return n.prototype.isIf=!0,n},Length:function(t){var e,r,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n={maximum:c(u(),0),minimum:c(o(),0),range:c(i(),0,1,2)};if(!t&&!a)throw new Error("Length must have a non-zero minimum or maximum parameter.");if(t<0||a<0)throw new Error("Length cannot have negative parameters.");return t&&a?(e=n.range(" ",t,a),r=n.range(" not ",t,a)):t?(e=n.minimum(t),r=n.maximum(t-1)):a&&(e=n.maximum(a),r=n.minimum(a+1)),function(n){return l.call(this),m=e,s=r,a?t<=n.length<=a:t<=n.length}},Contains:function(t){return function(n){return l.call(this),m="must contain ".concat(t),s="must not contain ".concat(t),n instanceof Array||"string"==typeof n?n.includes(t):t in n}},Each:function(f){return function(n){var e,t,r=[];if(f instanceof Array)n.forEach(function(t){f.forEach(function(n){(e=n(t))||r.push("all values ".concat(m))})});else if("[object Object]"===Object.prototype.toString.call(f))for(var a=Object.entries(n),i=0;i<a.length;i++){var o=babelHelpers.slicedToArray(a[i],2),u=o[0],c=o[1],s=d(f,c),l=babelHelpers.slicedToArray(s,2);e=l[0],t=l[1],e||(r[u]=t)}return[0===r.length,r]}},validate:d,Pattern:function(t){return function(n){return m="must match regex ".concat(t.toString()),s="must not match regex ".concat(t.toString()),t.test(n)}}}});